<html>

<head>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
    crossorigin="anonymous">
    <link rel="stylesheet" href="./HojaDeEstilo.css"/>

  <nav class="navbar navbar-expand-sm bg-light navbar-dark bg-dark">
      <nav class="navbar navbar-dark primary-color">
          <a class="navbar-brand" href="#">
            <img src="icono.png" height="60" width="60" alt="mdb logo">
          </a>
        </nav>
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/registrousuario">Registrar Candidato</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/registroempresa">Soy Empresa</a>
      </li>


      <li class="nav-item">
        <a class="nav-link" href="/iniciarsesion">Iniciar Sesion</a>
      </li>
    </ul>
  </nav>

</head>

<body>  
  <div class="InicioCss">
    <div class="toggleButton">
      <div class="border">
        <div class="button">

        </div>
      </div>
    </div>

    <div class="container">
      <br>
      <br>
      <div class="mx-auto col-md-6" style="width: 70%; height: 200px;" class="row">
        <div class="nsq" class="form-group">
          <div class="form-group">
            <input type="puesto" class="form-control" id="puesto" placeholder="Trabajo" required>
          </div>
          </div>
          <div class="nsq" class="form-group ">
            <div class="form-group">
              <input type="area" class="form-control" id="area" placeholder="Ciudad">
            </div>
          </div>
          <input onclick="sendData()" type="submit" href="/formularioverificacion" class="btn btn-primary btn-lg" value="Buscar">
          <script>
            async function sendData(){
              let data = {
                puesto: document.getElementById('puesto').value,
                area: document.getElementById('area').value,
              }
              console.log(data);
              let res = await fetch('http://localhost:3000/buscaroferta', {
                        method: 'POST', // or 'PUT'
                        body: JSON.stringify(data), // data can be `string` or {object}! //NO SE PUEDE PONER UN GET CUANDO HAY UN BODY
                        headers:{
                          'Content-Type': 'application/json'
                        }
                      }).then(r => {
                        console.log(r)
                        return r.json()
                      });
              console.log(res);
            }
          </script>
        </input>
      </div>
        <div class="mx-auto pb-2 " style="width: 70%; height: 300px;">
            <label for="inputPassword4">Ofertas</label>
            <div class="invitaciones">
              <div class="card">
                <div class="card-body">
                    <h5 class="card-title" id="puesto">Puesto</h5>
                    <h5 class="card-title">Empresa</h5>
                    <h5 class="card-title">Ciudad</h5>
                    <h5 class="card-title">Area</h5>
                </div>
              </div>
            </div>
          </div>
        </div>
        </div>
        <div class="dat">
            <!-- Footer -->
        <footer class="page-footer font-small indigo">
          
            <!-- Footer Links -->
            <div class="container">
          
              <!-- Grid row-->
              <div class="row text-center d-flex justify-content-center pt-5 mb-3">
          
                <!-- Grid column -->
                <div class="col-md-2 mb-3">
                  <h6 class="text-uppercase font-weight-bold">
                    <a href="#!">About us</a>
                  </h6>
                </div>
                <!-- Grid column -->
          
                <!-- Grid column -->
                <div class="col-md-2 mb-3">
                  <h6 class="text-uppercase font-weight-bold">
                    <a href="#!">Products</a>
                  </h6>
                </div>
                <!-- Grid column -->
          
                <!-- Grid column -->
                <div class="col-md-2 mb-3">
                  <h6 class="text-uppercase font-weight-bold">
                    <a href="#!">Awards</a>
                  </h6>
                </div>
                <!-- Grid column -->
          
                <!-- Grid column -->
                <div class="col-md-2 mb-3">
                  <h6 class="text-uppercase font-weight-bold">
                    <a href="#!">Help</a>
                  </h6>
                </div>
                <!-- Grid column -->
          
                <!-- Grid column -->
                <div class="col-md-2 mb-3">
                  <h6 class="text-uppercase font-weight-bold">
                    <a href="#!">Contact</a>
                  </h6>
                </div>
                <!-- Grid column -->
          
              </div>
              <!-- Grid row-->
              <hr class="rgba-white-light" style="margin: 0 15%;">
          
              <!-- Grid row-->
              <div class="row d-flex text-center justify-content-center mb-md-0 mb-4">
          
                <!-- Grid column -->
                <div class="col-md-8 col-12 mt-5">
                  <p style="line-height: 1.7rem">Sed ut perspiciatis unde omnis iste natus error sit voluptatem
                    accusantium doloremque laudantium, totam rem
                    aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt
                    explicabo.
                    Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur.</p>
                </div>
                <!-- Grid column -->
          
              </div>
              <!-- Grid row-->
              <hr class="clearfix d-md-none rgba-white-light" style="margin: 10% 15% 5%;">
          
              <!-- Grid row-->
              <div class="row pb-3">
          
                <!-- Grid column -->
                <div class="col-md-12">
          
                  <div class="mb-5 flex-center">
          
                    <!-- Facebook -->
                    <a class="fb-ic">
                      <i class="fab fa-facebook-f fa-lg white-text mr-4"> </i>
                    </a>
                    <!-- Twitter -->
                    <a class="tw-ic">
                      <i class="fab fa-twitter fa-lg white-text mr-4"> </i>
                    </a>
                    <!-- Google +-->
                    <a class="gplus-ic">
                      <i class="fab fa-google-plus-g fa-lg white-text mr-4"> </i>
                    </a>
                    <!--Linkedin -->
                    <a class="li-ic">
                      <i class="fab fa-linkedin-in fa-lg white-text mr-4"> </i>
                    </a>
                    <!--Instagram-->
                    <a class="ins-ic">
                      <i class="fab fa-instagram fa-lg white-text mr-4"> </i>
                    </a>
                    <!--Pinterest-->
                    <a class="pin-ic">
                      <i class="fab fa-pinterest fa-lg white-text"> </i>
                    </a>
          
                  </div>
          
                </div>
                <!-- Grid column -->
          
              </div>
              <!-- Grid row-->
          
            </div>
            <!-- Footer Links -->
          
            <!-- Copyright -->
            <div class="footer-copyright text-center py-3">Â© 2018 Copyright:
              AniJobs
            </div>
            <!-- Copyright -->
          
          </footer>
          <!-- Footer -->
        </div>
    </body>
    <br>
 


<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
  crossorigin="anonymous"></script>
<script>
  $(document).ready(function () {
    const data = JSON.parse(httpGet('http://localhost/test'))
    document.getElementById("puesto").innerHTML = data.test;
    console.log(data)
  });

  function httpGet(theUrl) {
    console.log(theUrl);
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open("GET", theUrl, false); // false for synchronous request
    xmlHttp.send(null);
    return xmlHttp.responseText;
  }
</script>

</html>
